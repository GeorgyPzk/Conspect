# Cluster Architecture

## Master Node

- API Server - с его помощью взаимодействуешь с остальными компонетами кластера

- etcd cluster – **простое распределенное хранилище key value**, которое используется для хранения данных кластера Kubernetes (таких как количество модулей, их состояние, пространство имен и т. д.), объектов API и сведений об обнаружении служб. Он доступен только с сервера API из соображений безопасности. etcd включает уведомления кластера об изменениях конфигурации с помощью наблюдателей. Уведомления — это запросы API на каждом узле кластера etcd для запуска обновления информации в хранилище узла.

- kube-scheduler - подбирает подходящий Node для создания Pod

- kube-controller-manager – отвечает за работоспостобность и мониторинг кластера. Работает постоянно и пользователь с ним никак не взаимодействует.

- cloud-controller-manager - коннектит API Server с API Cloud(Azure, AWS, GCP). Отвечает за создание ресурсов в Cloud.


## Worker nodes

- kubelet - есть в каждой node. Отвечает за работоспособность и мониторинг контейнеров в данной node. Взаимодействуя с Container runtime запускает и останавливает контейнеры. Отправляет информацию в API Server.

- Container runtime - отвечает за запуск и остановку контейнеров.

- kube-proxy - есть в каждой Node. Отвечает за поддержку network rules на node, разрешают и запрещают сетевое взаимодействие.